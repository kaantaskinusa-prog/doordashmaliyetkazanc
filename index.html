<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DashNet Ultimate Hybrid</title>
    <style>
        :root { --stride: #2ecc71; --primary: #FF3008; --blue: #00d2ff; --bg: #0f0f0f; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: white; margin: 0; padding: 15px; }
        .wrapper { max-width: 420px; margin: auto; }
        
        /* STRIDE TARZI VERGƒ∞ KARTI */
        .tax-card { background: linear-gradient(135deg, #152b20, #0a140f); border: 1px solid var(--stride); border-radius: 16px; padding: 15px; text-align: center; margin-bottom: 15px; }
        .tax-amt { font-size: 32px; font-weight: 900; color: var(--stride); }
        .tax-lbl { font-size: 10px; color: #888; text-transform: uppercase; letter-spacing: 1px; }

        .card { background: #1a1a1a; border-radius: 16px; padding: 15px; margin-bottom: 15px; border: 1px solid #333; }
        
        /* HEDEF BARI (Geri Geldi!) */
        .progress-w { background: #333; height: 10px; border-radius: 5px; margin: 10px 0; overflow: hidden; }
        .progress-f { background: var(--primary); height: 100%; width: 0%; transition: 0.5s; }

        label { display: block; font-size: 11px; color: #999; margin-bottom: 5px; text-transform: uppercase; }
        input { width: 100%; padding: 12px; background: #252525; border: 1px solid #333; color: white; border-radius: 10px; font-size: 16px; box-sizing: border-box; margin-bottom: 10px; }

        /* Mƒ∞L GRƒ∞D */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; }
        .day { background: #222; padding: 8px 4px; border-radius: 8px; text-align: center; border: 1px solid #333; }
        .day span { font-size: 9px; color: var(--blue); display: block; margin-bottom: 4px; }
        .day input { margin: 0; padding: 4px; font-size: 13px; background: transparent; border: none; text-align: center; }

        /* ANALƒ∞Z KUTULARI */
        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .s-box { background: #222; padding: 10px; border-radius: 10px; text-align: center; border: 1px solid #333; }
        .s-lbl { font-size: 10px; color: #666; display: block; }
        .s-val { font-size: 15px; font-weight: bold; margin-top: 3px; display: block; }

        /* NET KAR KARTI */
        .net-card { background: linear-gradient(145deg, #1b3320, #0f1f12); padding: 20px; border-radius: 20px; text-align: center; border: 1px solid var(--stride); margin-top: 10px; }
        .net-val { font-size: 38px; color: var(--stride); font-weight: 900; }

        .btn { width: 100%; padding: 15px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 15px; }
        .btn-save { background: var(--primary); color: white; }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="tax-card">
        <div class="tax-lbl">IRS Vergi Tasarrufu (Deduction)</div>
        <div id="taxSavings" class="tax-amt">$0.00</div>
    </div>

    <div class="card">
        <div style="display: flex; gap: 10px;">
            <div style="flex:1">
                <label>Kazan√ß ($)</label>
                <input type="number" id="income" placeholder="0.00" oninput="run()">
            </div>
            <div style="flex:1">
                <label>Hedef ($)</label>
                <input type="number" id="target" value="1000" oninput="run()">
            </div>
        </div>
        <div class="progress-w"><div id="bar" class="progress-f"></div></div>
    </div>

    <div class="card">
        <label>G√ºnl√ºk Miller (Highlander)</label>
        <div class="grid">
            <div class="day"><span>PZT</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>SAL</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>√áAR</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>PER</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>CUM</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>CMT</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>PAZ</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day" style="border-color: var(--blue);"><span>TOP</span><input type="number" id="tm" readonly></div>
        </div>
    </div>

    <div class="stats">
        <div class="s-box"><span class="s-lbl">‚õΩ YAKIT+BAKIM</span><span id="gas" class="s-val" style="color:#ffca28">$0.00</span></div>
        <div class="s-box"><span class="s-lbl">üèõÔ∏è FED. VERGƒ∞</span><span id="tax" class="s-val" style="color:#ff4d4d">$0.00</span></div>
        <div class="s-box"><span class="s-lbl">SAATLƒ∞K NET</span><span id="hourly" class="s-val">$0.00</span></div>
        <div class="s-box">
            <label style="font-size: 8px; margin:0">√áalƒ±≈üma Saati</label>
            <input type="number" id="hours" style="margin:0; padding:2px; font-size:12px; background:transparent; border:none; text-align:center;" placeholder="0" oninput="run()">
        </div>
    </div>

    <div class="net-card">
        <label style="color: var(--stride); font-size: 12px;">CEBE KALAN GER√áEK NET</label>
        <div id="net" class="net-val">$0.00</div>
    </div>

    <button class="btn btn-save" onclick="save()">HAFTAYI TELEFONA KAYDET</button>
</div>

<script>
    function run() {
        const inc = parseFloat(document.getElementById('income').value) || 0;
        const tar = parseFloat(document.getElementById('target').value) || 1;
        const hrs = parseFloat(document.getElementById('hours').value) || 0;
        
        let m = 0;
        document.querySelectorAll('.m-in').forEach(i => m += parseFloat(i.value) || 0);
        document.getElementById('tm').value = m.toFixed(1);

        // Hesaplamalar
        const deduction = m * 0.67; // IRS Mil ƒ∞ndirimi
        const tax = Math.max(0, inc - deduction) * 0.153;
        const gas = (m / 21) * 3.15;
        const maint = m * 0.10;
        const net = inc - gas - maint - tax;
        const hourly = hrs > 0 ? net / hrs : 0;

        // UI G√ºncelleme
        document.getElementById('taxSavings').innerText = '$' + deduction.toFixed(2);
        document.getElementById('gas').innerText = '$' + (gas + maint).toFixed(2);
        document.getElementById('tax').innerText = '$' + tax.toFixed(2);
        document.getElementById('net').innerText = '$' + Math.max(0, net).toFixed(2);
        document.getElementById('hourly').innerText = '$' + hourly.toFixed(2);
        
        // Hedef Barƒ± G√ºncelleme
        const perc = Math.min(100, (inc / tar) * 100);
        document.getElementById('bar').style.width = perc + '%';
    }

    function save() {
        const m = Array.from(document.querySelectorAll('.m-in')).map(i => i.value);
        localStorage.setItem('dashHybridV1', JSON.stringify({inc: document.getElementById('income').value, tar: document.getElementById('target').value, m: m, h: document.getElementById('hours').value}));
        alert("Kaydedildi! ‚úÖ");
    }

    window.onload = function() {
        const d = JSON.parse(localStorage.getItem('dashHybridV1'));
        if(d) {
            document.getElementById('income').value = d.inc;
            document.getElementById('target').value = d.tar || 1000;
            document.getElementById('hours').value = d.h || "";
            document.querySelectorAll('.m-in').forEach((el, i) => el.value = d.m[i] || "");
            run();
        }
    }
</script>
</body>
</html>
