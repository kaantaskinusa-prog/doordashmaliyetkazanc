<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DashNet Ultimate Pro</title>
    <style>
        :root { --primary: #00d2ff; --stride: #2ecc71; --danger: #ff4d4d; --bg: #0a0a0a; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: white; margin: 0; padding: 15px; }
        .wrapper { max-width: 420px; margin: auto; }
        
        /* STRIDE STYLE TAX CARD */
        .tax-card { background: linear-gradient(135deg, #152b20, #0a140f); border: 2px solid var(--stride); border-radius: 20px; padding: 20px; text-align: center; margin-bottom: 20px; box-shadow: 0 10px 20px rgba(46, 204, 113, 0.1); }
        .tax-label { font-size: 12px; color: var(--stride); text-transform: uppercase; font-weight: 800; letter-spacing: 1px; }
        .tax-amount { font-size: 42px; font-weight: 900; color: white; margin: 5px 0; }
        .tax-desc { font-size: 11px; color: #888; }

        .input-card { background: #1a1a1a; border-radius: 20px; padding: 20px; margin-bottom: 15px; border: 1px solid #333; }
        label { display: block; font-size: 11px; color: #777; margin-bottom: 8px; text-transform: uppercase; font-weight: bold; }
        input { width: 100%; padding: 15px; background: #252525; border: 1px solid #333; color: white; border-radius: 12px; font-size: 20px; box-sizing: border-box; font-weight: 700; margin-bottom: 15px; }
        
        /* MILEAGE GRID */
        .mile-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 10px; }
        .day { background: #252525; padding: 10px 5px; border-radius: 10px; text-align: center; border: 1px solid #333; }
        .day span { font-size: 10px; color: var(--primary); font-weight: bold; display: block; margin-bottom: 5px; }
        .day input { margin: 0; padding: 5px; font-size: 14px; background: transparent; border: none; text-align: center; }

        /* ANALYTICS */
        .analysis { display: flex; justify-content: space-between; margin-top: 15px; padding: 15px; background: #1a1a1a; border-radius: 15px; border: 1px solid #333; }
        .an-box { text-align: center; }
        .an-label { font-size: 10px; color: #666; display: block; margin-bottom: 5px; }
        .an-val { font-size: 16px; font-weight: bold; }

        .net-card { background: #1b3320; padding: 25px; border-radius: 20px; text-align: center; margin-top: 20px; border: 1px solid var(--stride); }
        .net-val { font-size: 48px; color: var(--stride); font-weight: 900; display: block; }

        .btn { width: 100%; padding: 18px; border-radius: 15px; border: none; font-weight: 800; cursor: pointer; font-size: 16px; margin-top: 15px; transition: 0.2s; }
        .btn-save { background: var(--primary); color: #000; box-shadow: 0 5px 15px rgba(0, 210, 255, 0.3); }
        .btn-clear { background: #222; color: #555; font-size: 12px; }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="tax-card">
        <div class="tax-label">IRS VERGƒ∞ TASARRUFU (ESTIMATED)</div>
        <div id="taxSavings" class="tax-amount">$0.00</div>
        <div class="tax-desc">Bu miktar vergiye tabi gelirden d√º≈ü√ºlecek masrafƒ±ndƒ±r.</div>
    </div>

    <div class="input-card">
        <label>Haftalƒ±k Br√ºt Gelir ($)</label>
        <input type="number" id="income" placeholder="0.00" oninput="run()">
        
        <label>G√ºnl√ºk Miller (Highlander)</label>
        <div class="mile-grid">
            <div class="day"><span>PZT</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>SAL</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>√áAR</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>PER</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>CUM</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>CMT</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day"><span>PAZ</span><input type="number" class="m-in" oninput="run()"></div>
            <div class="day" style="border-color: var(--primary);"><span>TOP</span><input type="number" id="tm" readonly></div>
        </div>
    </div>

    <div class="analysis">
        <div class="an-box"><span class="an-label">‚õΩ YAKIT+BAKIM</span><span id="gas" class="an-val" style="color: #ffca28;">$0.00</span></div>
        <div class="an-box"><span class="an-label">üèõÔ∏è TAHMƒ∞Nƒ∞ VERGƒ∞</span><span id="tax" class="an-val" style="color: var(--danger);">$0.00</span></div>
        <div class="an-box"><span class="an-label">Mƒ∞L BA≈ûI K√ÇR</span><span id="perMile" class="an-val">$0.00</span></div>
    </div>

    <div class="net-card">
        <label style="color: var(--stride);">CEBE KALAN NET K√ÇR</label>
        <span id="net" class="net-val">$0.00</span>
    </div>

    <button class="btn btn-save" onclick="save()">VERƒ∞LERƒ∞ KAYDET</button>
    <button class="btn btn-clear" onclick="cls()">TEMƒ∞ZLE</button>
</div>

<script>
    function run() {
        const inc = parseFloat(document.getElementById('income').value) || 0;
        let m = 0;
        document.querySelectorAll('.m-in').forEach(i => m += parseFloat(i.value) || 0);
        document.getElementById('tm').value = m.toFixed(1);

        // IRS & Stride Math
        const irsDeduction = m * 0.67;
        const taxableIncome = Math.max(0, inc - irsDeduction);
        const taxDue = taxableIncome * 0.153; // Federal SE Tax

        // Real Highlander Costs
        const gasCost = (m / 21) * 3.15;
        const maintenance = m * 0.10;
        const net = inc - gasCost - maintenance - taxDue;
        const perMile = m > 0 ? net / m : 0;

        document.getElementById('taxSavings').innerText = '$' + irsDeduction.toFixed(2);
        document.getElementById('gas').innerText = '$' + (gasCost + maintenance).toFixed(2);
        document.getElementById('tax').innerText = '$' + taxDue.toFixed(2);
        document.getElementById('net').innerText = '$' + Math.max(0, net).toFixed(2);
        document.getElementById('perMile').innerText = '$' + perMile.toFixed(2);
    }

    function save() {
        const m = Array.from(document.querySelectorAll('.m-in')).map(i => i.value);
        localStorage.setItem('dashStrideV1', JSON.stringify({inc: document.getElementById('income').value, m: m}));
        alert("Ba≈üarƒ±yla Kaydedildi! ‚úÖ");
    }

    window.onload = function() {
        const d = JSON.parse(localStorage.getItem('dashStrideV1'));
        if(d) {
            document.getElementById('income').value = d.inc;
            document.querySelectorAll('.m-in').forEach((el, i) => el.value = d.m[i] || "");
            run();
        }
    }

    function cls() {
        if(confirm("Sƒ±fƒ±rlansƒ±n mƒ±?")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>

</body>
</html>
